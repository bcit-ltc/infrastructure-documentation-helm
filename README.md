# Infrastructure-Documentation

![Version: 1.0.0](https://img.shields.io/badge/Version-1.0.0-informational?style=flat-square) ![AppVersion: 1.0.7](https://img.shields.io/badge/AppVersion-1.0.7-informational?style=flat-square)

Information about the architecture and makeup of the LTC's server infrastructure.

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| BCIT LTC | <ltc_techops@bcit.ca> | <https://www.bcit.ca/learning-teaching-centre/> |

## Installation using Helm

Our registry images are public, but [GitHub's "Working with Container Registries"](https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-container-registry) says:
> "You need an access token to publish, install, and delete private, internal, and public packages."

1. Create a [GitHub personal access token](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens) and set it in your terminal shell:

        export CR_PAT=YOUR_TOKEN

2. Install [Helm](https://helm.sh/docs/intro/install) and [jq](https://jqlang.org/download/).

3. Login to the global GitHub registry service:

        echo $CR_PAT | docker login ghcr.io -u USERNAME --password-stdin

4. List the available registry tags

        curl -L \
        -H "Accept: application/vnd.github+json" \
        -H "Authorization: Bearer $CR_PAT" \
        -H "X-GitHub-Api-Version: 2022-11-28" \
        <https://api.github.com/orgs/bcit-ltc/packages/container/infrastructure-documentation/versions> \
        | jq '.[].metadata.container.tags.[]'

5. Pull and inspect the `bcit-ltc/infrastructure-documentation` helm chart:

        helm pull --untar oci://ghcr.io/bcit-ltc/infrastructure-documentation --version {VERSION}

6. Install the `infrastructure-documentation` chart:

        helm install infrastructure-documentation .

## Source Code

* <https://github.com/bcit-ltc/>

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| containerPort | int | `8080` |  |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repository | string | `"bcit-ltc/infrastructure-documentation"` |  |
| image.tag | string | `"1.0.7"` |  |
| ingress.annotations | object | `{}` |  |
| ingress.ingressClassName | string | `""` |  |
| ingress.tls | list | `[]` |  |
| namespaces.create | bool | `false` |  |
| namespaces.namespace[0].name | string | `""` |  |
| progressDeadlineSeconds | int | `300` |  |
| replicas | int | `1` |  |
| resources.cpuLimit | string | `"100m"` |  |
| resources.cpuRequest | string | `"100m"` |  |
| resources.memLimit | string | `"128Mi"` |  |
| resources.memRequest | string | `"64Mi"` |  |
| revisionHistoryLimit | int | `2` |  |
| servicePort | int | `80` |  |
| strategy.rollingUpdate.maxSurge | string | `"25%"` |  |
| strategy.rollingUpdate.maxUnavailable | string | `"25%"` |  |
| strategy.type | string | `"RollingUpdate"` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
